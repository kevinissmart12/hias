{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nimport { GeoCalculator } from '../calculate/geo-calculator';\n\n/**\n * 最符合条件的吸附，计算量大\n * @param {*} point \n * @param {*} overlays \n * @param {*} limitDistance \n * @returns \n */\nvar getSnapByMC = function getSnapByMC(point, overlays, limitDistance) {\n  var matchPoint = null;\n  var matchLine = null;\n  var matchPointDistance = Infinity;\n  var matchLineDistance = Infinity;\n  var _iterator = _createForOfIteratorHelper(overlays),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var overlay = _step.value;\n      var points = overlay.getPath();\n      var line = [];\n      for (var i = 0; i < points.length; i++) {\n        line.push([points[i].lng, points[i].lat]);\n      }\n      var _iterator2 = _createForOfIteratorHelper(points),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var p = _step2.value;\n          var distance = GeoCalculator.getDistance(point, p);\n          if (distance < limitDistance && distance < matchPointDistance) {\n            matchPoint = p;\n            matchPointDistance = distance;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      var res = GeoCalculator.getNearestPointOnLine(point, line);\n      if (res.toLineDistance < limitDistance && res.toLineDistance < matchLineDistance) {\n        var _iterator3 = _createForOfIteratorHelper(line),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var l = _step3.value;\n            if (pointOnLine(res.nearestPoint, l)) {\n              matchLine = l;\n              matchLineDistance = res.toLineDistance;\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  if (matchPoint) {\n    return matchPoint;\n  }\n  return matchLine;\n};\nvar getFirstSnapByMC = function getFirstSnapByMC(point, overlays, limit, map) {\n  var ignoreOvelays = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  var unit = getZoomUnits(map.getZoom());\n  limit = limit * unit;\n  var _iterator4 = _createForOfIteratorHelper(overlays),\n    _step4;\n  try {\n    var _loop = function _loop() {\n      var overlay = _step4.value;\n      if (ignoreOvelays.find(function (item) {\n        return overlay === item;\n      })) {\n        return \"continue\";\n      }\n      if (overlay instanceof BMapGL.Marker) {\n        var marker = overlay.getPosition();\n        var distance = GeoCalculator.getDistance(point, marker, 'kilometers') * 1000;\n        if (distance < limit) {\n          return {\n            v: marker\n          };\n        }\n        return \"continue\";\n      }\n      if (overlay.toGeoJSON) {\n        var points = overlay.getPath();\n        var midPoints = [];\n        var geoOverlay = overlay.toGeoJSON();\n        for (var i = 0; i < points.length - 1; i++) {\n          midPoints.push(GeoCalculator.getLineCenter(points[i], points[i + 1]).bdCenter);\n        }\n        var _iterator5 = _createForOfIteratorHelper(points.concat(midPoints)),\n          _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var p = _step5.value;\n            var _distance2 = GeoCalculator.getDistance(point, p, 'kilometers') * 1000;\n            if (_distance2 < limit) {\n              return {\n                v: p\n              };\n            }\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n        var nearData = GeoCalculator.getNearestPointOnLine(point, geoOverlay);\n        var _distance = nearData.toLineDistance * 1000;\n        if (_distance < limit) {\n          return {\n            v: nearData.bdNearestPoint\n          };\n        }\n      }\n    };\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var _ret = _loop();\n      if (_ret === \"continue\") continue;\n      if (_typeof(_ret) === \"object\") return _ret.v;\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  return null;\n};\n\n/**\n * 点在直线上\n */\nvar pointOnLine = function pointOnLine(point, startPoint, endPoint) {\n  if ((point.lng - startPoint.lng) / (endPoint.lng - startPoint.lng) - (point.lat - startPoint.lat) / (endPoint.lat - startPoint.lat) < 0.0001) {\n    return true;\n  }\n  return false;\n};\nvar getSnapByPixel = function getSnapByPixel(point, overlays) {\n  var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 20;\n  var map = arguments.length > 3 ? arguments[3] : undefined;\n  var pixel = map.pointToPixel(point);\n  var matchPixel = null;\n  var matchLine = null;\n  var matchPixelDistance = Infinity;\n  var matchLineDistance = Infinity;\n  var _iterator6 = _createForOfIteratorHelper(overlays),\n    _step6;\n  try {\n    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n      var overlay = _step6.value;\n      if (overlay instanceof BMapGL.Marker) {\n        var marker = map.pointToPixel(overlay.point);\n        var distance = getDistanceByPixel(pixel, marker);\n        if (distance < limit && distance < matchPixelDistance) {\n          return marker;\n        }\n      }\n      if (overlay.getPath) {\n        var pixels = overlay.getPath().map(function (p) {\n          return map.pointToPixel(p);\n        });\n        var _iterator7 = _createForOfIteratorHelper(pixels),\n          _step7;\n        try {\n          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n            var p = _step7.value;\n            var _distance4 = getDistanceByPixel(pixel, p);\n            if (_distance4 < limit && _distance4 < matchPixelDistance) {\n              matchPixel = p;\n              matchPixelDistance = _distance4;\n            }\n          }\n        } catch (err) {\n          _iterator7.e(err);\n        } finally {\n          _iterator7.f();\n        }\n        for (var i = 0; i < pixels.length - 1; i++) {\n          var _distance3 = getDistance2lineByPixel(pixel, pixels[i], pixels[i + 1]);\n          if (_distance3 < limit && _distance3 < matchLineDistance) {\n            matchLine = [pixels[i], pixels[i + 1]];\n            matchLineDistance = _distance3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _iterator6.e(err);\n  } finally {\n    _iterator6.f();\n  }\n  return matchPixel || matchLine || null;\n};\nvar getFirstSnapByPixel = function getFirstSnapByPixel(point, overlays) {\n  var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 20;\n  var map = arguments.length > 3 ? arguments[3] : undefined;\n  var pixel = map.pointToPixel(point);\n  var _iterator8 = _createForOfIteratorHelper(overlays),\n    _step8;\n  try {\n    for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n      var overlay = _step8.value;\n      if (overlay instanceof BMapGL.Marker) {\n        var marker = map.pointToPixel(overlay.point);\n        var distance = getDistanceByPixel(pixel, marker);\n        if (distance < limit) {\n          return marker;\n        }\n      }\n      if (overlay.getPath) {\n        var pixels = overlay.getPath().map(function (p) {\n          return map.pointToPixel(p);\n        });\n        var midPixels = [];\n        for (var i = 0; i < pixels.length - 1; i++) {\n          midPixels.push(getMidPixel(pixels[i], pixels[i + 1]));\n        }\n        var _iterator9 = _createForOfIteratorHelper(pixels.concat(midPixels)),\n          _step9;\n        try {\n          for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n            var p = _step9.value;\n            var _distance6 = getDistanceByPixel(pixel, p);\n            if (_distance6 < limit) {\n              return p;\n            }\n          }\n        } catch (err) {\n          _iterator9.e(err);\n        } finally {\n          _iterator9.f();\n        }\n        for (var _i = 0; _i < pixels.length - 1; _i++) {\n          var _distance5 = getDistance2lineByPixel(pixel, pixels[_i], pixels[_i + 1]);\n          if (_distance5 < limit) {\n            return [pixels[_i], pixels[_i + 1]];\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _iterator8.e(err);\n  } finally {\n    _iterator8.f();\n  }\n  return null;\n};\nvar getDistance2lineByPixel = function getDistance2lineByPixel(point, startPoint, endPoint) {\n  var cross = (endPoint.x - startPoint.x) * (point.x - startPoint.x) + (endPoint.y - startPoint.y) * (point.y - startPoint.y);\n  if (cross <= 0) {\n    return getDistanceByPixel(point, startPoint);\n  }\n  var d2 = (endPoint.x - startPoint.x) * (endPoint.x - startPoint.x) + (endPoint.y - startPoint.y) * (endPoint.y - startPoint.y);\n  if (cross >= d2) {\n    return getDistanceByPixel(point, endPoint);\n  }\n  var r = cross / d2;\n  var px = startPoint.x + (endPoint.x - startPoint.x) * r;\n  var py = startPoint.y + (endPoint.y - startPoint.y) * r;\n  var pointInline = {\n    x: px,\n    y: py\n  };\n  return getDistanceByPixel(point, pointInline);\n};\nfunction getDistanceByPixel(px1, px2) {\n  if (!px1 || !px2) {\n    return;\n  }\n  return Math.round(Math.sqrt(Math.pow(px1.x - px2.x, 2) + Math.pow(px1.y - px2.y, 2)));\n}\nfunction getMidPixel(startPixel, endPixel) {\n  return new BMapGL.Pixel((endPixel.x + startPixel.x) / 2, (endPixel.y + startPixel.y) / 2);\n}\n\n// 一个像素对应多少墨卡托单位\nfunction getZoomUnits(zoom) {\n  return Math.pow(2, 18 - zoom);\n}\nexport { getFirstSnapByPixel, getFirstSnapByMC };","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","return","minLen","_arrayLikeToArray","Object","toString","slice","name","from","test","arr","len","arr2","GeoCalculator","getSnapByMC","point","overlays","limitDistance","matchPoint","matchLine","matchPointDistance","Infinity","matchLineDistance","_iterator","_step","overlay","points","getPath","line","push","lng","lat","_iterator2","_step2","p","distance","getDistance","res","getNearestPointOnLine","toLineDistance","_iterator3","_step3","l","pointOnLine","nearestPoint","getFirstSnapByMC","limit","map","ignoreOvelays","arguments","undefined","unit","getZoomUnits","getZoom","_iterator4","_step4","_loop","find","item","BMapGL","Marker","marker","getPosition","v","toGeoJSON","midPoints","geoOverlay","getLineCenter","bdCenter","_iterator5","concat","_step5","_distance2","nearData","_distance","bdNearestPoint","_ret","startPoint","endPoint","getSnapByPixel","pixel","pointToPixel","matchPixel","matchPixelDistance","_iterator6","_step6","getDistanceByPixel","pixels","_iterator7","_step7","_distance4","_distance3","getDistance2lineByPixel","getFirstSnapByPixel","_iterator8","_step8","midPixels","getMidPixel","_iterator9","_step9","_distance6","_i","_distance5","cross","x","y","d2","r","px","py","pointInline","px1","px2","Math","round","sqrt","pow","startPixel","endPixel","Pixel","zoom"],"sources":["C:/Users/29903/Desktop/毕业设计的各种准备/haidaoxiangmu/hias/node_modules/bmap-draw/es/utils/snap.js"],"sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nimport { GeoCalculator } from '../calculate/geo-calculator';\n\n/**\n * 最符合条件的吸附，计算量大\n * @param {*} point \n * @param {*} overlays \n * @param {*} limitDistance \n * @returns \n */\nvar getSnapByMC = function getSnapByMC(point, overlays, limitDistance) {\n  var matchPoint = null;\n  var matchLine = null;\n  var matchPointDistance = Infinity;\n  var matchLineDistance = Infinity;\n  var _iterator = _createForOfIteratorHelper(overlays),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var overlay = _step.value;\n      var points = overlay.getPath();\n      var line = [];\n      for (var i = 0; i < points.length; i++) {\n        line.push([points[i].lng, points[i].lat]);\n      }\n      var _iterator2 = _createForOfIteratorHelper(points),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var p = _step2.value;\n          var distance = GeoCalculator.getDistance(point, p);\n          if (distance < limitDistance && distance < matchPointDistance) {\n            matchPoint = p;\n            matchPointDistance = distance;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      var res = GeoCalculator.getNearestPointOnLine(point, line);\n      if (res.toLineDistance < limitDistance && res.toLineDistance < matchLineDistance) {\n        var _iterator3 = _createForOfIteratorHelper(line),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var l = _step3.value;\n            if (pointOnLine(res.nearestPoint, l)) {\n              matchLine = l;\n              matchLineDistance = res.toLineDistance;\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  if (matchPoint) {\n    return matchPoint;\n  }\n  return matchLine;\n};\nvar getFirstSnapByMC = function getFirstSnapByMC(point, overlays, limit, map) {\n  var ignoreOvelays = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  var unit = getZoomUnits(map.getZoom());\n  limit = limit * unit;\n  var _iterator4 = _createForOfIteratorHelper(overlays),\n    _step4;\n  try {\n    var _loop = function _loop() {\n      var overlay = _step4.value;\n      if (ignoreOvelays.find(function (item) {\n        return overlay === item;\n      })) {\n        return \"continue\";\n      }\n      if (overlay instanceof BMapGL.Marker) {\n        var marker = overlay.getPosition();\n        var distance = GeoCalculator.getDistance(point, marker, 'kilometers') * 1000;\n        if (distance < limit) {\n          return {\n            v: marker\n          };\n        }\n        return \"continue\";\n      }\n      if (overlay.toGeoJSON) {\n        var points = overlay.getPath();\n        var midPoints = [];\n        var geoOverlay = overlay.toGeoJSON();\n        for (var i = 0; i < points.length - 1; i++) {\n          midPoints.push(GeoCalculator.getLineCenter(points[i], points[i + 1]).bdCenter);\n        }\n        var _iterator5 = _createForOfIteratorHelper(points.concat(midPoints)),\n          _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var p = _step5.value;\n            var _distance2 = GeoCalculator.getDistance(point, p, 'kilometers') * 1000;\n            if (_distance2 < limit) {\n              return {\n                v: p\n              };\n            }\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n        var nearData = GeoCalculator.getNearestPointOnLine(point, geoOverlay);\n        var _distance = nearData.toLineDistance * 1000;\n        if (_distance < limit) {\n          return {\n            v: nearData.bdNearestPoint\n          };\n        }\n      }\n    };\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var _ret = _loop();\n      if (_ret === \"continue\") continue;\n      if (_typeof(_ret) === \"object\") return _ret.v;\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  return null;\n};\n\n/**\n * 点在直线上\n */\nvar pointOnLine = function pointOnLine(point, startPoint, endPoint) {\n  if ((point.lng - startPoint.lng) / (endPoint.lng - startPoint.lng) - (point.lat - startPoint.lat) / (endPoint.lat - startPoint.lat) < 0.0001) {\n    return true;\n  }\n  return false;\n};\nvar getSnapByPixel = function getSnapByPixel(point, overlays) {\n  var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 20;\n  var map = arguments.length > 3 ? arguments[3] : undefined;\n  var pixel = map.pointToPixel(point);\n  var matchPixel = null;\n  var matchLine = null;\n  var matchPixelDistance = Infinity;\n  var matchLineDistance = Infinity;\n  var _iterator6 = _createForOfIteratorHelper(overlays),\n    _step6;\n  try {\n    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n      var overlay = _step6.value;\n      if (overlay instanceof BMapGL.Marker) {\n        var marker = map.pointToPixel(overlay.point);\n        var distance = getDistanceByPixel(pixel, marker);\n        if (distance < limit && distance < matchPixelDistance) {\n          return marker;\n        }\n      }\n      if (overlay.getPath) {\n        var pixels = overlay.getPath().map(function (p) {\n          return map.pointToPixel(p);\n        });\n        var _iterator7 = _createForOfIteratorHelper(pixels),\n          _step7;\n        try {\n          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n            var p = _step7.value;\n            var _distance4 = getDistanceByPixel(pixel, p);\n            if (_distance4 < limit && _distance4 < matchPixelDistance) {\n              matchPixel = p;\n              matchPixelDistance = _distance4;\n            }\n          }\n        } catch (err) {\n          _iterator7.e(err);\n        } finally {\n          _iterator7.f();\n        }\n        for (var i = 0; i < pixels.length - 1; i++) {\n          var _distance3 = getDistance2lineByPixel(pixel, pixels[i], pixels[i + 1]);\n          if (_distance3 < limit && _distance3 < matchLineDistance) {\n            matchLine = [pixels[i], pixels[i + 1]];\n            matchLineDistance = _distance3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _iterator6.e(err);\n  } finally {\n    _iterator6.f();\n  }\n  return matchPixel || matchLine || null;\n};\nvar getFirstSnapByPixel = function getFirstSnapByPixel(point, overlays) {\n  var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 20;\n  var map = arguments.length > 3 ? arguments[3] : undefined;\n  var pixel = map.pointToPixel(point);\n  var _iterator8 = _createForOfIteratorHelper(overlays),\n    _step8;\n  try {\n    for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n      var overlay = _step8.value;\n      if (overlay instanceof BMapGL.Marker) {\n        var marker = map.pointToPixel(overlay.point);\n        var distance = getDistanceByPixel(pixel, marker);\n        if (distance < limit) {\n          return marker;\n        }\n      }\n      if (overlay.getPath) {\n        var pixels = overlay.getPath().map(function (p) {\n          return map.pointToPixel(p);\n        });\n        var midPixels = [];\n        for (var i = 0; i < pixels.length - 1; i++) {\n          midPixels.push(getMidPixel(pixels[i], pixels[i + 1]));\n        }\n        var _iterator9 = _createForOfIteratorHelper(pixels.concat(midPixels)),\n          _step9;\n        try {\n          for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n            var p = _step9.value;\n            var _distance6 = getDistanceByPixel(pixel, p);\n            if (_distance6 < limit) {\n              return p;\n            }\n          }\n        } catch (err) {\n          _iterator9.e(err);\n        } finally {\n          _iterator9.f();\n        }\n        for (var _i = 0; _i < pixels.length - 1; _i++) {\n          var _distance5 = getDistance2lineByPixel(pixel, pixels[_i], pixels[_i + 1]);\n          if (_distance5 < limit) {\n            return [pixels[_i], pixels[_i + 1]];\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _iterator8.e(err);\n  } finally {\n    _iterator8.f();\n  }\n  return null;\n};\nvar getDistance2lineByPixel = function getDistance2lineByPixel(point, startPoint, endPoint) {\n  var cross = (endPoint.x - startPoint.x) * (point.x - startPoint.x) + (endPoint.y - startPoint.y) * (point.y - startPoint.y);\n  if (cross <= 0) {\n    return getDistanceByPixel(point, startPoint);\n  }\n  var d2 = (endPoint.x - startPoint.x) * (endPoint.x - startPoint.x) + (endPoint.y - startPoint.y) * (endPoint.y - startPoint.y);\n  if (cross >= d2) {\n    return getDistanceByPixel(point, endPoint);\n  }\n  var r = cross / d2;\n  var px = startPoint.x + (endPoint.x - startPoint.x) * r;\n  var py = startPoint.y + (endPoint.y - startPoint.y) * r;\n  var pointInline = {\n    x: px,\n    y: py\n  };\n  return getDistanceByPixel(point, pointInline);\n};\nfunction getDistanceByPixel(px1, px2) {\n  if (!px1 || !px2) {\n    return;\n  }\n  return Math.round(Math.sqrt(Math.pow(px1.x - px2.x, 2) + Math.pow(px1.y - px2.y, 2)));\n}\nfunction getMidPixel(startPixel, endPixel) {\n  return new BMapGL.Pixel((endPixel.x + startPixel.x) / 2, (endPixel.y + startPixel.y) / 2);\n}\n\n// 一个像素对应多少墨卡托单位\nfunction getZoomUnits(zoom) {\n  return Math.pow(2, 18 - zoom);\n}\nexport { getFirstSnapByPixel, getFirstSnapByMC };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}