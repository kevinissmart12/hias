{"ast":null,"code":"export default {\n  name: \"addMap\",\n  data() {\n    return {\n      center: {\n        lng: 0,\n        lat: 0\n      },\n      zoom: 3,\n      marker: {},\n      position: {\n        lng: 0,\n        lat: 0\n      },\n      draggable: false\n    };\n  },\n  methods: {\n    CreateMap() {\n      this.map = new BMapGL.Map(\"map\"); // 创建地图实例   需要容器的id\n      var point = new BMapGL.Point(this.centerPoint.x, this.centerPoint.y); // 创建点坐标 \n      this.map.centerAndZoom(point, 15); //初始化地图，设置中心点坐标和地图级别\n      this.map.enableScrollWheelZoom(true); //开启鼠标滚轮缩放\n\n      this.map.addEventListener('click', function (e) {\n        console.log('点击位置经纬度：' + e.latlng.lng + ',' + e.latlng.lat);\n      });\n\n      //控件偏移参数\n      var opts = {\n        offset: new BMapGL.Size(10, 10)\n      };\n      //以下为缩放控件，这是必备的\n      var zoomCtrl = new BMapGL.ZoomControl(opts); // 添加缩放控件\n      this.map.addControl(zoomCtrl);\n      this.map.setMapType(BMAP_SATELLITE_MAP); // 设置地图类型为地球模式\n    },\n\n    addPond() {},\n    handler({\n      BMap,\n      map\n    }) {\n      console.log(BMap, map);\n      this.center.lng = 116.404;\n      this.center.lat = 39.915;\n      this.zoom = 15;\n      this.position.lng = 116.404;\n      this.position.lat = 39.915;\n      this.draggable = true;\n    }\n  },\n  created() {\n    // this.CreateMap()\n  },\n  mounted() {\n    // this.CreateMap()\n  }\n};","map":{"version":3,"mappings":"AASA;EACAA;EACAC;IACA;MACAC;QAAAC;QAAAC;MAAA;MACAC;MACAC;MACAC;QAAAJ;QAAAC;MAAA;MACAI;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;MACA;;MAEA;QACAC;MACA;;MAEA;MACA;QACAC;MACA;MACA;MACA;MACA;MAEA;IAEA;;IACAC,WAEA;IACAC;MAAAC;MAAAC;IAAA;MACAL;MACA;MACA;MACA;MAEA;MACA;MAEA;IAEA;EACA;EACAM;IACA;EAAA,CACA;EACAC;IACA;EAAA;AAGA","names":["name","data","center","lng","lat","zoom","marker","position","draggable","methods","CreateMap","console","offset","addPond","handler","BMap","map","created","mounted"],"sourceRoot":"src/components/ponds/AddPonds","sources":["AddMap.vue"],"sourcesContent":["<template>\r\n    <div class=\"addMap\">\r\n        <baidu-map class=\"map\" :center=\"center\" :zoom=\"zoom\" @ready=\"handler\">\r\n            <bm-marker :position=\"position\" :dragging=\"draggable\"></bm-marker>\r\n        </baidu-map>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:\"addMap\",\r\n    data(){\r\n        return {\r\n            center: {lng: 0, lat: 0},\r\n            zoom: 3,\r\n            marker:{},\r\n            position:{lng: 0, lat: 0},\r\n            draggable:false\r\n        }\r\n    },\r\n    methods:{\r\n        CreateMap(){\r\n            this.map = new BMapGL.Map(\"map\");          // 创建地图实例   需要容器的id\r\n            var point = new BMapGL.Point(this.centerPoint.x,this.centerPoint.y);  // 创建点坐标 \r\n            this.map.centerAndZoom(point, 15);     //初始化地图，设置中心点坐标和地图级别\r\n            this.map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放\r\n\r\n            this.map.addEventListener('click', function (e) {\r\n                console.log('点击位置经纬度：' + e.latlng.lng+ ',' + e.latlng.lat);\r\n            });\r\n\r\n            //控件偏移参数\r\n            var opts = {\r\n                offset: new BMapGL.Size(10, 10)\r\n            }\r\n            //以下为缩放控件，这是必备的\r\n            var zoomCtrl = new BMapGL.ZoomControl(opts);  // 添加缩放控件\r\n            this.map.addControl(zoomCtrl)\r\n\r\n            this.map.setMapType(BMAP_SATELLITE_MAP);      // 设置地图类型为地球模式\r\n\r\n        },\r\n        addPond(){\r\n\r\n        },\r\n        handler ({BMap, map}) {\r\n            console.log(BMap, map)\r\n            this.center.lng = 116.404\r\n            this.center.lat = 39.915\r\n            this.zoom = 15\r\n\r\n            this.position.lng = 116.404\r\n            this.position.lat = 39.915\r\n\r\n            this.draggable=true\r\n\r\n        }\r\n    },\r\n    created(){\r\n        // this.CreateMap()\r\n    },\r\n    mounted(){\r\n        // this.CreateMap()\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .addMap{\r\n        width: 100%;\r\n        height: 100%;\r\n        .map{\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}