{"ast":null,"code":"import time from '../../api/time';\nexport default {\n  name: \"Main\",\n  data() {\n    return {\n      tableItem: [{\n        'id': '1',\n        prop: 'uid',\n        label: '提交人',\n        width: '150'\n      }, {\n        'id': '2',\n        prop: 'type',\n        label: '类型',\n        width: '100'\n      }, {\n        'id': '3',\n        prop: 'op_obj',\n        label: '操作对象',\n        width: '150'\n      }, {\n        'id': '4',\n        prop: 'checkStatus',\n        label: '审核情况',\n        width: '100'\n      }, {\n        'id': '5',\n        prop: 'checkResult',\n        label: '审核结果',\n        width: '200'\n      }, {\n        'id': '6',\n        prop: 'time',\n        label: '时间',\n        width: '200'\n      }],\n      length: 0,\n      dialogVisible: false,\n      //池塘 \n      pondTableItem: [{\n        'id': '1',\n        prop: 'number',\n        label: '区块编号',\n        width: '150'\n      }, {\n        'id': '2',\n        prop: 'lat',\n        label: '纬度',\n        width: '150'\n      }, {\n        'id': '3',\n        prop: 'lng',\n        label: '经度',\n        width: '150'\n      }, {\n        'id': '4',\n        prop: 'area',\n        label: '面积',\n        width: '150'\n      }, {\n        'id': '5',\n        prop: 'estimateArea',\n        label: '估算面积',\n        width: '150'\n      }, {\n        'id': '6',\n        prop: 'county',\n        label: '所在区/县',\n        width: '150'\n      }, {\n        'id': '7',\n        prop: 'town',\n        label: '所在镇',\n        width: '150'\n      }, {\n        'id': '8',\n        prop: 'village',\n        label: '所在村',\n        width: '150'\n      }, {\n        'id': '9',\n        prop: 'polygon',\n        label: '多边形',\n        width: '150'\n      }, {\n        'id': '10',\n        prop: 'ownerId',\n        label: '拥有者',\n        width: '150'\n      }, {\n        'id': '11',\n        prop: 'productId',\n        label: '养殖品种',\n        width: '150'\n      }, {\n        'id': '12',\n        prop: 'comment',\n        label: '留言',\n        width: '150'\n      }],\n      newpondTableData: {},\n      oldpondTableData: {},\n      //拥有者\n      ownerTableItem: [{\n        'id': '1',\n        prop: 'name',\n        label: '名称/法人',\n        width: '150'\n      }, {\n        'id': '2',\n        prop: 'mobile',\n        label: '联系电话',\n        width: '150'\n      }, {\n        'id': '3',\n        prop: 'birthday',\n        label: '出生年月',\n        width: '150'\n      }, {\n        'id': '4',\n        prop: 'sex',\n        label: '性别',\n        width: '150'\n      }, {\n        'id': '5',\n        prop: 'imgUrl',\n        label: '图片',\n        width: '150'\n      }, {\n        'id': '6',\n        prop: 'address',\n        label: '家庭住址',\n        width: '150'\n      }, {\n        'id': '7',\n        prop: 'county',\n        label: '所在区/县',\n        width: '150'\n      }, {\n        'id': '8',\n        prop: 'town',\n        label: '所在镇',\n        width: '150'\n      }, {\n        'id': '9',\n        prop: 'village',\n        label: '所在村',\n        width: '150'\n      }, {\n        'id': '10',\n        prop: 'engagedTime',\n        label: '从业时间',\n        width: '150'\n      }, {\n        'id': '11',\n        prop: 'educationLevel',\n        label: '文化程度',\n        width: '150'\n      }, {\n        'id': '12',\n        prop: 'farmerTitle',\n        label: '农民头衔',\n        width: '150'\n      }, {\n        'id': '13',\n        prop: 'departmentId',\n        label: '组织机构代码',\n        width: '150'\n      }, {\n        'id': '14',\n        prop: 'discriminator',\n        label: '类型',\n        width: '150'\n      }, {\n        'id': '15',\n        prop: 'companyName',\n        label: '公司',\n        width: '150'\n      }, {\n        'id': '16',\n        prop: 'establishedTime',\n        label: '成立时间',\n        width: '150'\n      }, {\n        'id': '17',\n        prop: 'fixedAssets',\n        label: '固定资产',\n        width: '150'\n      }, {\n        'id': '18',\n        prop: 'businessContents',\n        label: '经营内容',\n        width: '150'\n      }, {\n        'id': '18',\n        prop: 'isBaseOfEmployee',\n        label: '无公害基地',\n        width: '150'\n      }, {\n        'id': '20',\n        prop: 'numberOfEmployee',\n        label: '员工人数',\n        width: '150'\n      }, {\n        'id': '21',\n        prop: 'featuredProducts',\n        label: '特色产品',\n        width: '150'\n      }, {\n        'id': '22',\n        prop: 'creditLevel',\n        label: '信用等级',\n        width: '150'\n      }, {\n        'id': '23',\n        prop: 'comment',\n        label: '备注',\n        width: '150'\n      }],\n      newownerTableData: {},\n      oldownerTableData: {},\n      //水产品\n      productTableItem: [{\n        'id': '1',\n        prop: 'name',\n        label: '水产品名称',\n        width: '150'\n      }, {\n        'id': '2',\n        prop: 'type',\n        label: '所属种类',\n        width: '150'\n      }, {\n        'id': '3',\n        prop: 'description',\n        label: '描述',\n        width: '150'\n      }, {\n        'id': '4',\n        prop: 'imgUrl',\n        label: '图片',\n        width: '150'\n      }, {\n        'id': '5',\n        prop: 'breedMethod',\n        label: '养殖方式',\n        width: '150'\n      }, {\n        'id': '6',\n        prop: 'breedTech',\n        label: '养殖技术',\n        width: '150'\n      }, {\n        'id': '7',\n        prop: 'diseases',\n        label: '病害',\n        width: '150'\n      }],\n      newProductTableData: {},\n      oldProductTableData: {}\n    };\n  },\n  methods: {\n    getDialog() {\n      let data = this.qs.stringify({\n        front: (this.CurrentPage - 1) * this.Pagesize,\n        end: this.CurrentPage * this.Pagesize\n      });\n      this.$axios({\n        url: '/api/dialog/getAll',\n        method: 'POST',\n        data: data\n      }).then(res => {\n        console.log(res.data);\n        if (res.data.status == 200) {\n          this.$store.commit('dialog/setTableData', res.data.data.data);\n          this.length = res.data.data.length;\n        }\n      });\n    },\n    search() {\n      let data = this.qs.stringify({\n        uid: this.Form.uid,\n        username: this.Form.username,\n        type: this.Form.type,\n        op_obj: this.Form.op_obj,\n        front: (this.CurrentPage - 1) * this.Pagesize,\n        end: this.CurrentPage * this.Pagesize\n      });\n      this.$axios({\n        url: \"/api/dialog/search\",\n        method: \"POST\",\n        data: data\n      }).then(res => {\n        console.log(res.data);\n        if (res.data.status == 200) {\n          this.$store.commit('dialog/setTableData', res.data.data.data);\n          this.length = res.data.data.slength;\n          // this.$store.commit('dialog/setSearch',false)\n        }\n      });\n    },\n\n    getUser() {\n      this.$axios({\n        url: '/api/user/getAll',\n        method: 'GET'\n      }).then(res => {\n        // console.log(res.data);\n        if (res.data.status == 200) {\n          this.$store.commit('dialog/setUserData', res.data.data.data);\n          this.getAllTown();\n          this.getALlVillage();\n          this.getProduct();\n          this.getOwner();\n          this.getDialog();\n        }\n      });\n    },\n    //获取所有的镇和村\n    getAllTown() {\n      if (localStorage.getItem('town')) {\n        this.$store.commit('dialog/setTownData');\n      } else {\n        this.$axios({\n          url: '/api/area/getAllTown',\n          method: 'GET'\n        }).then(res => {\n          if (res.data.status == 200) {\n            //赋值\n            this.$store.commit('dialog/setTownData', res.data.data.data);\n          }\n        });\n      }\n    },\n    getALlVillage() {\n      if (localStorage.getItem('village')) {\n        this.$store.commit('dialog/setVillageData');\n      } else {\n        this.$axios({\n          url: '/api/area/getAllVillage',\n          method: 'GET'\n        }).then(res => {\n          if (res.data.status == 200) {\n            //赋值\n            this.$store.commit('dialog/setVillageData', res.data.data.data);\n          }\n        });\n      }\n    },\n    //获取product\n    getProduct() {\n      this.$axios({\n        url: '/api/products/getAll',\n        method: \"GET\"\n      }).then(res => {\n        if (res.data.status == 200) {\n          this.$store.commit('dialog/setProductData', res.data.data.data);\n        }\n      });\n    },\n    //获取owner\n    getOwner() {\n      this.$axios({\n        url: '/api/owner/getAll',\n        method: \"GET\"\n      }).then(res => {\n        if (res.data.status == 200) {\n          this.$store.commit('dialog/setOwnerData', res.data.data.data);\n        }\n      });\n    },\n    handleSizeChange(size) {\n      this.pagesize = size;\n      this.getDialog();\n    },\n    handleCurrentChange(currentPage) {\n      this.$store.commit('dialog/setCurrentPage', currentPage);\n      if (this.Search) {\n        this.search();\n      } else {\n        this.getDialog();\n      }\n    },\n    check(item) {\n      // console.log(item);\n      this.dialogVisible = true;\n\n      // console.log(JSON.parse(decodeURIComponent(item.new_obj)).breedTech);\n\n      this.newpondTableData = {};\n      this.oldpondTableData = {};\n      this.newownerTableData = {};\n      this.oldownerTableData = {};\n      this.newProductTableData = {};\n      this.oldProductTableData = {};\n      this.$store.commit('dialog/setCheckingData', item);\n      if (item.new_obj) {\n        // console.log(item);\n        let new_obj = JSON.parse(decodeURIComponent(item.new_obj));\n        // console.log(new_obj);\n        //城镇信息\n        this.CountyData.forEach((ci, cv) => {\n          if (ci.id == new_obj.county) {\n            new_obj.county = ci.county;\n          }\n        });\n        this.TownData.forEach((ti, tv) => {\n          if (ti.id == new_obj.town) {\n            new_obj.town = ti.town;\n          }\n        });\n        this.VillageData.forEach((vi, vv) => {\n          if (vi.id == new_obj.village) {\n            new_obj.village = vi.village;\n          }\n        });\n        //修改用户\n        this.OwnerData.forEach((oi, ov) => {\n          if (oi.id == new_obj.ownerId) {\n            new_obj.ownerId = oi.name;\n          }\n        });\n        //水产品\n        this.ProductData.forEach((pi, pv) => {\n          if (pi.id == new_obj.productId) {\n            new_obj.productId = pi.name;\n          }\n        });\n        if (item.op_obj == '池塘信息') {\n          this.newpondTableData = new_obj;\n        } else if (item.op_obj == '拥有者信息') {\n          this.newownerTableData = new_obj;\n        } else if (item.op_obj == '水产品信息') {\n          this.newProductTableData = new_obj;\n        }\n      }\n      if (item.old_obj) {\n        let old_obj = JSON.parse(decodeURIComponent(item.old_obj));\n        //城镇信息\n        this.CountyData.forEach((ci, cv) => {\n          if (ci.id == old_obj.county) {\n            old_obj.county = ci.county;\n          }\n        });\n        this.TownData.forEach((ti, tv) => {\n          if (ti.id == old_obj.town) {\n            old_obj.town = ti.town;\n          }\n        });\n        this.VillageData.forEach((vi, vv) => {\n          if (vi.id == old_obj.village) {\n            old_obj.village = vi.village;\n          }\n        });\n        //修改用户\n        this.OwnerData.forEach((oi, ov) => {\n          if (oi.id == old_obj.ownerId) {\n            old_obj.ownerId = oi.name;\n          }\n        });\n        //水产品\n        this.ProductData.forEach((pi, pv) => {\n          if (pi.id == old_obj.productId) {\n            old_obj.productId = pi.name;\n          }\n        });\n        if (item.op_obj == '池塘信息') {\n          this.oldpondTableData = old_obj;\n        } else if (item.op_obj == '拥有者信息') {\n          this.oldownerTableData = old_obj;\n        } else if (item.op_obj == '水产品信息') {\n          this.oldProductTableData = old_obj;\n        }\n      }\n    },\n    pass() {\n      let data = this.qs.stringify({\n        id: this.CheckingData.id,\n        checkStatus: 1,\n        op_obj: this.CheckingData.op_obj,\n        op_obj_id: this.CheckingData.op_obj_id\n      });\n      //修改\n      this.$axios({\n        url: '/api/dialog/pass',\n        method: 'POST',\n        data: data\n      }).then(res => {\n        console.log(res.data);\n        if (res.data.status == 200) {\n          this.dialogVisible = false;\n          this.$message.success('已通过');\n          this.tempTableData.forEach((i, v) => {\n            if (i.id == this.CheckingData.id) {\n              i.checkStatus = '已通过';\n            }\n          });\n        }\n      });\n    },\n    deny() {\n      let data = this.qs.stringify({\n        id: this.CheckingData.id,\n        checkStatus: 2,\n        op_obj: this.CheckingData.op_obj,\n        op_obj_id: this.CheckingData.op_obj_id\n      });\n      //修改\n      this.$axios({\n        url: '/api/dialog/deny',\n        method: 'POST',\n        data: data\n      }).then(res => {\n        console.log(res.data);\n        if (res.data.status == 200) {\n          this.dialogVisible = false;\n          this.$message.success('未通过');\n          this.tempTableData.forEach((i, v) => {\n            if (i.id == this.CheckingData.id) {\n              i.checkStatus = '未通过';\n            }\n          });\n        }\n      });\n    }\n  },\n  created() {\n    this.getUser();\n  },\n  computed: {\n    Search() {\n      return this.$store.state.dialog.search;\n    },\n    Form() {\n      return this.$store.state.dialog.form;\n    },\n    TableData() {\n      return this.$store.state.dialog.tableData;\n    },\n    CurrentPage() {\n      return this.$store.state.dialog.currentPage;\n    },\n    Pagesize() {\n      return this.$store.state.dialog.pageSize;\n    },\n    UserData() {\n      return this.$store.state.dialog.userData;\n    },\n    ProductData() {\n      return this.$store.state.dialog.productData;\n    },\n    OwnerData() {\n      return this.$store.state.dialog.ownerData;\n    },\n    CountyData() {\n      return this.$store.state.dialog.countyData;\n    },\n    TownData() {\n      return this.$store.state.dialog.townData;\n    },\n    VillageData() {\n      return this.$store.state.dialog.villageData;\n    },\n    CheckingData() {\n      return this.$store.state.dialog.checkingData;\n    }\n  },\n  watch: {\n    Search(n) {\n      if (!n) {\n        this.getDialog();\n      }\n    },\n    Form: {\n      handler(n) {\n        if (n) {\n          this.search();\n        }\n      },\n      deep: true\n    }\n  }\n};","map":{"version":3,"mappings":"AA8dA;AACA;EACAA;EACAC;IACA;MACAC,YACA;QAAA;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,EACA;MAEAC;MACAC;MACA;MACAC,gBACA;QAAA;QAAAL;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,EACA;MACAI;MACAC;MACA;MACAC,iBACA;QAAA;QAAAR;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,EAEA;MACAO;MACAC;MAEA;MACAC,mBACA;QAAA;QAAAX;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAA;QAAAF;QAAAC;QAAAC;MAAA,EACA;MACAU;MACAC;IAKA;EACA;EACAC;IACAC;MACA;QACAC;QACAC;MACA;MACA;QACAC;QACAC;QACArB;MACA;QACAsB;QACA;UACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACAC;QACAC;QACAC;QACAC;QACAT;QACAC;MACA;MAEA;QACAC;QACAC;QACArB;MACA;QACAsB;QACA;UACA;UACA;UACA;QAEA;MACA;IACA;;IACAM;MACA;QACAR;QACAC;MACA;QACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;QAEA;MACA;IACA;IACA;IACAQ;MACA;QACA;MACA;QACA;UACAT;UACAC;QACA;UACA;YACA;YACA;UACA;QACA;MACA;IAEA;IACAS;MACA;QACA;MACA;QACA;UACAV;UACAC;QACA;UACA;YACA;YACA;UACA;QACA;MACA;IAEA;IACA;IACAU;MACA;QACAX;QACAC;MACA;QACA;UACA;QACA;MACA;IACA;IACA;IACAW;MACA;QACAZ;QACAC;MACA;QACA;UACA;QACA;MACA;IACA;IACAY;MACA;MACA;IACA;IACAC;MACA;MACA;QACA;MACA;QACA;MACA;IAEA;IACAC;MACA;MACA;;MAEA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;UACA;YACAC;UACA;QACA;QACA;UACA;YACAA;UACA;QACA;QACA;UACA;YACAA;UACA;QACA;QACA;QACA;UACA;YACAA;UACA;QACA;QACA;QACA;UACA;YACAA;UACA;QACA;QAEA;UACA;QACA;UACA;QACA;UACA;QACA;MACA;MACA;QACA;QACA;QACA;UACA;YACAC;UACA;QACA;QACA;UACA;YACAA;UACA;QACA;QACA;UACA;YACAA;UACA;QACA;QACA;QACA;UACA;YACAA;UACA;QACA;QACA;QACA;UACA;YACAA;UACA;QACA;QAEA;UACA;QACA;UACA;QACA;UACA;QACA;MACA;IAEA;IACAC;MACA;QACAC;QACAC;QACAb;QACAc;MACA;MACA;MACA;QACArB;QACAC;QACArB;MACA;QACAsB;QACA;UACA;UACA;UACA;YACA;cACAoB;YACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACAJ;QACAC;QACAb;QACAc;MACA;MACA;MACA;QACArB;QACAC;QACArB;MACA;QACAsB;QACA;UACA;UACA;UACA;YACA;cACAoB;YACA;UACA;QACA;MACA;IACA;EAEA;EACAE;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACAZ;MACA;QACA;MACA;IACA;IACAC;MACAY;QACA;UACA;QACA;MACA;MACAC;IACA;EACA;AACA","names":["name","data","tableItem","prop","label","width","length","dialogVisible","pondTableItem","newpondTableData","oldpondTableData","ownerTableItem","newownerTableData","oldownerTableData","productTableItem","newProductTableData","oldProductTableData","methods","getDialog","front","end","url","method","console","search","uid","username","type","op_obj","getUser","getAllTown","getALlVillage","getProduct","getOwner","handleSizeChange","handleCurrentChange","check","new_obj","old_obj","pass","id","checkStatus","op_obj_id","i","deny","created","computed","Search","Form","TableData","CurrentPage","Pagesize","UserData","ProductData","OwnerData","CountyData","TownData","VillageData","CheckingData","watch","handler","deep"],"sourceRoot":"src/components/dialog","sources":["Main.vue"],"sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <el-card class=\"box-card\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n                <span>审核列表</span>\r\n            </div>\r\n            <el-table :data=\"TableData\" stripe style=\"width: 100%\">\r\n                <el-table-column\r\n                    :prop=\"item.prop\"\r\n                    :label=\"item.label\"\r\n                    :width=\"item.width\"\r\n                    v-for=\"(item,index) in tableItem\" \r\n                    :key=\"index\"\r\n                >\r\n                </el-table-column>\r\n                <el-table-column\r\n                    fixed=\"right\"\r\n                    label=\"操作\"\r\n                    width=\"120\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button @click=\"check(scope.row)\" type=\"text\" size=\"small\">查看</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-card>\r\n        <!--  分页 -->\r\n        <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"CurrentPage\"\r\n            :page-size=\"Pagesize\"\r\n            layout=\"total,prev, pager, next\"\r\n            :total=\"length\">\r\n        </el-pagination>\r\n\r\n        <el-dialog\r\n            title=\"具体信息\"\r\n            :visible.sync=\"dialogVisible\"\r\n            width=\"75%\"\r\n        >\r\n            <!-- product -->\r\n            <div>\r\n                <table border=\"1\" style=\"width:100%\"  align=\"center\">\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\"></td>\r\n                        <td align=\"center\">新内容</td>\r\n                        <td align=\"center\">旧内容</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">品种名称</td>\r\n                        <td align=\"center\">{{newProductTableData.name}}</td>\r\n                        <td align=\"center\">{{oldProductTableData.name}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">所属种类</td>\r\n                        <td align=\"center\">{{newProductTableData.type}}</td>\r\n                        <td align=\"center\">{{oldProductTableData.type}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">养殖方式</td>\r\n                        <td align=\"center\">{{newProductTableData.breedMethod}}</td>\r\n                        <td align=\"center\">{{oldProductTableData.breedMethod}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">图片</td>\r\n                        <td align=\"center\"><img :src=\"newProductTableData.imgUrl\" style=\"width:100px\"></td>\r\n                        <td align=\"center\"><img :src=\"oldProductTableData.imgUrl\" style=\"width:100px\"></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">描述</td>\r\n                        <td v-html=\"newProductTableData.description\"></td>\r\n                        <td v-html=\"oldProductTableData.description\"></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">养殖技术</td>\r\n                        <td v-html=\"newProductTableData.breedTech\"></td>\r\n                        <td v-html=\"oldProductTableData.breedTech\"></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">病害</td>\r\n                        <td v-html=\"newProductTableData.diseases\"></td>\r\n                        <td v-html=\"oldProductTableData.diseases\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <!-- ponds -->\r\n            <div>\r\n                <table border=\"1\" style=\"width:100%\"  align=\"center\">\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\"></td>\r\n                        <td align=\"center\">新内容</td>\r\n                        <td align=\"center\">旧内容</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">区块编号</td>\r\n                        <td align=\"center\">{{newpondTableData.number}}</td>\r\n                        <td align=\"center\">{{oldpondTableData.number}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">纬度</td>\r\n                        <td align=\"center\">{{newpondTableData.lat}}</td>\r\n                        <td align=\"center\">{{oldpondTableData.lat}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">经度</td>\r\n                        <td align=\"center\">{{newpondTableData.lng}}</td>\r\n                        <td align=\"center\">{{oldpondTableData.lng}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">面积</td>\r\n                        <td align=\"center\">{{newpondTableData.area}}</td>\r\n                        <td align=\"center\">{{oldpondTableData.area}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">估算面积</td>\r\n                        <td align=\"center\">{{newpondTableData.estimateArea}}</td>\r\n                        <td align=\"center\">{{oldpondTableData.estimateArea}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">所在区/县</td>\r\n                        <td align=\"center\">{{newpondTableData.county}}</td>\r\n                        <td align=\"center\">{{oldpondTableData.county}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">所在镇</td>\r\n                        <td align=\"center\">{{newpondTableData.town}}</td>\r\n                        <td align=\"center\">{{oldpondTableData.town}}</td>\r\n                    </tr>                    \r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">所在村</td>\r\n                        <td align=\"center\">{{newpondTableData.village}}</td>\r\n                        <td align=\"center\">{{oldpondTableData.village}}</td>\r\n                    </tr>                    \r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">多边形</td>\r\n                        <td align=\"center\">{{newpondTableData.polygon}}</td>\r\n                        <td align=\"center\">{{oldpondTableData.polygon}}</td>\r\n                    </tr>                    \r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">拥有者</td>\r\n                        <td align=\"center\">{{newpondTableData.ownerId}}</td>\r\n                        <td align=\"center\">{{oldpondTableData.ownerId}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">养殖品种</td>\r\n                        <td align=\"center\">{{newpondTableData.productId}}</td>\r\n                        <td align=\"center\">{{oldpondTableData.productId}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">留言</td>\r\n                        <td align=\"center\">{{newpondTableData.comment}}</td>\r\n                        <td align=\"center\">{{oldpondTableData.comment}}</td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <!-- owner -->\r\n            <div>\r\n                <table border=\"1\" style=\"width:100%\"  align=\"center\">\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\"></td>\r\n                        <td align=\"center\">新内容</td>\r\n                        <td align=\"center\">旧内容</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">名称/法人</td>\r\n                        <td align=\"center\">{{newownerTableData.name}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.name}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">联系电话</td>\r\n                        <td align=\"center\">{{newownerTableData.mobile}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.mobile}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">出生年月</td>\r\n                        <td align=\"center\">{{newownerTableData.birthday}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.mobile}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">性别</td>\r\n                        <td align=\"center\">{{newownerTableData.sex}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.sex}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">图片</td>\r\n                        <td align=\"center\">{{newpondTableData.estimateArea}}</td>\r\n                        <td align=\"center\">{{newpondTableData.estimateArea}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">家庭住址</td>\r\n                        <td align=\"center\">{{newownerTableData.address}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.address}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">所在区/县</td>\r\n                        <td align=\"center\">{{newownerTableData.county}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.county}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">所在镇</td>\r\n                        <td align=\"center\">{{newownerTableData.town}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.town}}</td>\r\n                    </tr>                    \r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">所在村</td>\r\n                        <td align=\"center\">{{newownerTableData.village}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.village}}</td>\r\n                    </tr>                    \r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">从业时间</td>\r\n                        <td align=\"center\">{{newownerTableData.engagedTime}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.engagedTime}}</td>\r\n                    </tr>                    \r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">文化程度</td>\r\n                        <td align=\"center\">{{newownerTableData.educationLevel}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.educationLevel}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">农民头衔</td>\r\n                        <td align=\"center\">{{newownerTableData.farmerTitle}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.farmerTitle}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">组织机构代码</td>\r\n                        <td align=\"center\">{{newownerTableData.departmentId}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.departmentId}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">类型</td>\r\n                        <td align=\"center\">{{newownerTableData.discriminator}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.discriminator}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">公司</td>\r\n                        <td align=\"center\">{{newownerTableData.companyName}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.companyName}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">成立时间</td>\r\n                        <td align=\"center\">{{newownerTableData.establishedTime}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.establishedTime}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">固定资产</td>\r\n                        <td align=\"center\">{{newownerTableData.fixedAssets}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.fixedAssets}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">经营内容</td>\r\n                        <td align=\"center\">{{newownerTableData.businessContents}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.businessContents}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">无公害基地</td>\r\n                        <td align=\"center\">{{newownerTableData.isBaseOfEmployee}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.isBaseOfEmployee}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">员工人数</td>\r\n                        <td align=\"center\">{{newownerTableData.numberOfEmployee}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.numberOfEmployee}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">特色产品</td>\r\n                        <td align=\"center\">{{newownerTableData.featuredProducts}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.featuredProducts}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">信用等级</td>\r\n                        <td align=\"center\">{{newownerTableData.creditLevel}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.creditLevel}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width=\"100px\" height=\"50px\" align=\"center\">备注</td>\r\n                        <td align=\"center\">{{newownerTableData.comment}}</td>\r\n                        <td align=\"center\">{{oldownerTableData.comment}}</td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <!-- <el-table v-if=\"tempProductTableData.length\" :data=\"tempProductTableData\" stripe style=\"width: 100%\">\r\n                <el-table-column type=\"expand\">\r\n                    <template slot-scope=\"props\">\r\n                        <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n                            <el-form-item label=\"水产品名称\">\r\n                                <span>{{ props.row.name }}</span>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"所属种类\">\r\n                                <span>{{ props.row.type }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"描述\">\r\n                                <span>{{ props.row.description }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"图片\">\r\n                                <img style=\"width:90px\" :src=\"props.row.imgUrl\" alt=\"\">\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"养殖方式\">\r\n                                <span>{{ props.row.breedMethod }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"养殖技术\">\r\n                                <span>{{ props.row.breedTech }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"病害\">\r\n                                <span>{{ props.row.diseases }}</span>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    :prop=\"item.prop\"\r\n                    :label=\"item.label\"\r\n                    :width=\"item.width\"\r\n                    v-for=\"(item,index) in productTableItem\" \r\n                    :key=\"index\"\r\n                >\r\n                    <template slot-scope=\"scope\">\r\n                        <img v-if=\"item.prop=='imgUrl'\" :src=\"scope.row.imgUrl\" alt=\"\" width=\"90\">\r\n                        <div v-else>{{scope.row[item.prop]}}</div>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-table v-if=\"temppondTableData.length\" :data=\"temppondTableData\" stripe style=\"width: 100%\">\r\n                <el-table-column type=\"expand\">\r\n                    <template slot-scope=\"props\">\r\n                        <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n                            <el-form-item label=\"区块编号\">\r\n                                <span>{{ props.row.number }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"纬度\">\r\n                                <span>{{ props.row.lat }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"经度\">\r\n                                <span>{{ props.row.lng }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"面积\">\r\n                                <span>{{ props.row.area }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"估算面积\">\r\n                                <span>{{ props.row.estimateArea }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"所在区/县\">\r\n                                <span>{{ props.row.county }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"所在镇\">\r\n                                <span>{{ props.row.town }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"所在村\">\r\n                                <span>{{ props.row.village }}</span>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"多边形\">\r\n                                <span>{{ props.row.polygon }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"拥有者\">\r\n                                <span>{{ props.row.ownerId }}</span>\r\n                            </el-form-item>                           \r\n                            <el-form-item label=\"养殖品种\">\r\n                                <span>{{ props.row.productId }}</span>\r\n                            </el-form-item>                            \r\n                            <el-form-item label=\"留言\">\r\n                                <span>{{ props.row.comment }}</span>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    :prop=\"item.prop\"\r\n                    :label=\"item.label\"\r\n                    :width=\"item.width\"\r\n                    v-for=\"(item,index) in pondTableItem\" \r\n                    :key=\"index\"\r\n                >\r\n                    <template slot-scope=\"scope\">\r\n                        <img v-if=\"item.prop=='imgUrl'\" :src=\"scope.row.imgUrl\" alt=\"\" width=\"90\">\r\n                        <div v-else>{{scope.row[item.prop]}}</div>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-table v-if=\"tempownerTableData.length\" :data=\"tempownerTableData\" stripe style=\"width: 100%\">\r\n                <el-table-column type=\"expand\">\r\n                    <template slot-scope=\"props\">\r\n                        <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n                        <el-form-item label=\"名称/法人\">\r\n                            <span>{{ props.row.name }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"联系电话\">\r\n                            <span>{{ props.row.mobile }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"出生年月\">\r\n                            <span>{{ props.row.birthday }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"性别\">\r\n                            <span>{{ props.row.sex }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"图片\">\r\n                            <img style=\"width:90px\" :src=\"props.row.imgUrl\" alt=\"\">\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"家庭住址\">\r\n                            <span>{{ props.row.address }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"所在区/县\">\r\n                            <span>{{ props.row.county }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"所在镇\">\r\n                            <span>{{ props.row.town }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"所在村\">\r\n                            <span>{{ props.row.village }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"从业时间\">\r\n                            <span>{{ props.row.engagedTime }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"文化程度\">\r\n                            <span>{{ props.row.educationLevel }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"农民头衔\">\r\n                            <span>{{ props.row.farmerTitle }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"组织机构代码\">\r\n                            <span>{{ props.row.departmentId }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"类型\">\r\n                            <span>{{ props.row.discriminator }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"公司\">\r\n                            <span>{{ props.row.companyName }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"成立时间\">\r\n                            <span>{{ props.row.establishedTime }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"固定资产\">\r\n                            <span>{{ props.row.fixedAssets }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"经营内容\">\r\n                            <span>{{ props.row.businessContents }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"无公害基地\">\r\n                            <span>{{ props.row.isBaseOfEmployee }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"员工人数\">\r\n                            <span>{{ props.row.numberOfEmployee }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"特色产品\">\r\n                            <span>{{ props.row.featuredProducts }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"信用等级\">\r\n                            <span>{{ props.row.creditLevel }}</span>\r\n                        </el-form-item>                        \r\n                        <el-form-item label=\"备注\">\r\n                            <span>{{ props.row.comment }}</span>\r\n                        </el-form-item>                        \r\n\r\n\r\n                        </el-form>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    :prop=\"item.prop\"\r\n                    :label=\"item.label\"\r\n                    :width=\"item.width\"\r\n                    v-for=\"(item,index) in ownerTableItem\" \r\n                    :key=\"index\"\r\n                >\r\n                    <template slot-scope=\"scope\">\r\n                        <img v-if=\"item.prop=='imgUrl'\" :src=\"scope.row.imgUrl\" alt=\"\" width=\"90\">\r\n                        <div v-else>{{scope.row[item.prop]}}</div>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table> -->\r\n\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button type=\"primary\" @click=\"pass()\">通  过</el-button>\r\n                <el-button type=\"danger\" @click=\"deny()\">不通过</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport time from '../../api/time'\r\nexport default {\r\n    name:\"Main\",\r\n    data(){\r\n        return{\r\n            tableItem:[\r\n                {'id':'1',prop:'uid',label:'提交人',width:'150'},\r\n                {'id':'2',prop:'type',label:'类型',width:'100'},\r\n                {'id':'3',prop:'op_obj',label:'操作对象',width:'150'},\r\n                {'id':'4',prop:'checkStatus',label:'审核情况',width:'100'},\r\n                {'id':'5',prop:'checkResult',label:'审核结果',width:'200'},\r\n                {'id':'6',prop:'time',label:'时间',width:'200'}, \r\n            ],\r\n\r\n            length:0,\r\n            dialogVisible:false,\r\n            //池塘 \r\n            pondTableItem:[\r\n                {'id':'1',prop:'number',label:'区块编号',width:'150'},\r\n                {'id':'2',prop:'lat',label:'纬度',width:'150'},\r\n                {'id':'3',prop:'lng',label:'经度',width:'150'},\r\n                {'id':'4',prop:'area',label:'面积',width:'150'},\r\n                {'id':'5',prop:'estimateArea',label:'估算面积',width:'150'},\r\n                {'id':'6',prop:'county',label:'所在区/县',width:'150'},\r\n                {'id':'7',prop:'town',label:'所在镇',width:'150'},\r\n                {'id':'8',prop:'village',label:'所在村',width:'150'},\r\n                {'id':'9',prop:'polygon',label:'多边形',width:'150'},\r\n                {'id':'10',prop:'ownerId',label:'拥有者',width:'150'},\r\n                {'id':'11',prop:'productId',label:'养殖品种',width:'150'},\r\n                {'id':'12',prop:'comment',label:'留言',width:'150'},\r\n            ],\r\n            newpondTableData:{},\r\n            oldpondTableData:{},\r\n            //拥有者\r\n            ownerTableItem:[\r\n                {'id':'1',prop:'name',label:'名称/法人',width:'150'},\r\n                {'id':'2',prop:'mobile',label:'联系电话',width:'150'},\r\n                {'id':'3',prop:'birthday',label:'出生年月',width:'150'},\r\n                {'id':'4',prop:'sex',label:'性别',width:'150'},\r\n                {'id':'5',prop:'imgUrl',label:'图片',width:'150'},\r\n                {'id':'6',prop:'address',label:'家庭住址',width:'150'},\r\n                {'id':'7',prop:'county',label:'所在区/县',width:'150'},\r\n                {'id':'8',prop:'town',label:'所在镇',width:'150'},\r\n                {'id':'9',prop:'village',label:'所在村',width:'150'},\r\n                {'id':'10',prop:'engagedTime',label:'从业时间',width:'150'},\r\n                {'id':'11',prop:'educationLevel',label:'文化程度',width:'150'},\r\n                {'id':'12',prop:'farmerTitle',label:'农民头衔',width:'150'},\r\n                {'id':'13',prop:'departmentId',label:'组织机构代码',width:'150'},\r\n                {'id':'14',prop:'discriminator',label:'类型',width:'150'},\r\n                {'id':'15',prop:'companyName',label:'公司',width:'150'},\r\n                {'id':'16',prop:'establishedTime',label:'成立时间',width:'150'},\r\n                {'id':'17',prop:'fixedAssets',label:'固定资产',width:'150'},\r\n                {'id':'18',prop:'businessContents',label:'经营内容',width:'150'},\r\n                {'id':'18',prop:'isBaseOfEmployee',label:'无公害基地',width:'150'},\r\n                {'id':'20',prop:'numberOfEmployee',label:'员工人数',width:'150'},\r\n                {'id':'21',prop:'featuredProducts',label:'特色产品',width:'150'},\r\n                {'id':'22',prop:'creditLevel',label:'信用等级',width:'150'},\r\n                {'id':'23',prop:'comment',label:'备注',width:'150'},\r\n\r\n            ],\r\n            newownerTableData:{},\r\n            oldownerTableData:{},\r\n\r\n            //水产品\r\n            productTableItem:[\r\n                {'id':'1',prop:'name',label:'水产品名称',width:'150'},\r\n                {'id':'2',prop:'type',label:'所属种类',width:'150'},\r\n                {'id':'3',prop:'description',label:'描述',width:'150'},\r\n                {'id':'4',prop:'imgUrl',label:'图片',width:'150'},\r\n                {'id':'5',prop:'breedMethod',label:'养殖方式',width:'150'},\r\n                {'id':'6',prop:'breedTech',label:'养殖技术',width:'150'},\r\n                {'id':'7',prop:'diseases',label:'病害',width:'150'},\r\n            ],\r\n            newProductTableData:{},\r\n            oldProductTableData:{},\r\n\r\n\r\n\r\n\r\n        }\r\n    },\r\n    methods:{\r\n        getDialog(){\r\n            let data=this.qs.stringify({\r\n                front:(this.CurrentPage-1)*this.Pagesize,\r\n                end:this.CurrentPage*this.Pagesize\r\n            })\r\n            this.$axios({\r\n                url:'/api/dialog/getAll',\r\n                method:'POST',\r\n                data:data\r\n            }).then(res=>{\r\n                console.log(res.data);\r\n                if(res.data.status==200){\r\n                    this.$store.commit('dialog/setTableData',res.data.data.data)\r\n                    this.length=res.data.data.length\r\n                }\r\n            })\r\n        },\r\n        search(){\r\n            let data=this.qs.stringify({\r\n                uid: this.Form.uid,\r\n                username:this.Form.username,\r\n                type:this.Form.type,\r\n                op_obj:this.Form.op_obj,\r\n                front:(this.CurrentPage-1)*this.Pagesize,\r\n                end:this.CurrentPage*this.Pagesize,\r\n            })\r\n\r\n            this.$axios({\r\n                url:\"/api/dialog/search\",\r\n                method:\"POST\",\r\n                data:data\r\n            }).then(res=>{\r\n                console.log(res.data);\r\n                if(res.data.status==200){\r\n                    this.$store.commit('dialog/setTableData',res.data.data.data)\r\n                    this.length=res.data.data.slength\r\n                    // this.$store.commit('dialog/setSearch',false)\r\n\r\n                }\r\n            })\r\n        },\r\n        getUser(){\r\n            this.$axios({\r\n                url:'/api/user/getAll',\r\n                method:'GET'\r\n            }).then(res=>{\r\n                // console.log(res.data);\r\n                if(res.data.status==200){\r\n                    this.$store.commit('dialog/setUserData',res.data.data.data)\r\n                    this.getAllTown()\r\n                    this.getALlVillage()\r\n                    this.getProduct()\r\n                    this.getOwner()\r\n                    this.getDialog()\r\n\r\n                }\r\n            })\r\n        },\r\n        //获取所有的镇和村\r\n        getAllTown(){\r\n            if(localStorage.getItem('town')){\r\n                this.$store.commit('dialog/setTownData')\r\n            }else{\r\n                this.$axios({\r\n                    url:'/api/area/getAllTown',\r\n                    method:'GET',\r\n                }).then(res=>{\r\n                    if(res.data.status==200){\r\n                        //赋值\r\n                        this.$store.commit('dialog/setTownData',res.data.data.data)\r\n                    }\r\n                })\r\n            }\r\n            \r\n        },\r\n        getALlVillage(){\r\n            if(localStorage.getItem('village')){\r\n                this.$store.commit('dialog/setVillageData')\r\n            }else{\r\n                this.$axios({\r\n                    url:'/api/area/getAllVillage',\r\n                    method:'GET',\r\n                }).then(res=>{\r\n                    if(res.data.status==200){\r\n                        //赋值\r\n                        this.$store.commit('dialog/setVillageData',res.data.data.data)\r\n                    }\r\n                })\r\n            }\r\n\r\n        },\r\n        //获取product\r\n        getProduct(){\r\n            this.$axios({\r\n                url:'/api/products/getAll',\r\n                method:\"GET\",\r\n            }).then(res=>{\r\n                if(res.data.status==200){\r\n                    this.$store.commit('dialog/setProductData',res.data.data.data)\r\n                }\r\n            })\r\n        },\r\n        //获取owner\r\n        getOwner(){\r\n            this.$axios({\r\n                url:'/api/owner/getAll',\r\n                method:\"GET\",\r\n            }).then(res=>{\r\n                if(res.data.status==200){\r\n                    this.$store.commit('dialog/setOwnerData',res.data.data.data)\r\n                }\r\n            })\r\n        },        \r\n        handleSizeChange (size) {\r\n            this.pagesize = size;\r\n            this.getDialog()\r\n        },\r\n        handleCurrentChange (currentPage) {\r\n            this.$store.commit('dialog/setCurrentPage',currentPage)\r\n            if(this.Search){\r\n                this.search()\r\n            }else{\r\n                this.getDialog()                \r\n            }\r\n\r\n        },\r\n        check(item){\r\n            // console.log(item);\r\n            this.dialogVisible=true\r\n            \r\n            // console.log(JSON.parse(decodeURIComponent(item.new_obj)).breedTech);\r\n\r\n            this.newpondTableData={}\r\n            this.oldpondTableData={}\r\n            this.newownerTableData={}\r\n            this.oldownerTableData={}\r\n            this.newProductTableData={}\r\n            this.oldProductTableData={}\r\n            this.$store.commit('dialog/setCheckingData',item)\r\n            if(item.new_obj){\r\n                // console.log(item);\r\n                let new_obj=JSON.parse(decodeURIComponent(item.new_obj))\r\n                // console.log(new_obj);\r\n                //城镇信息\r\n                this.CountyData.forEach((ci,cv)=>{\r\n                    if(ci.id==new_obj.county){\r\n                        new_obj.county=ci.county\r\n                    }\r\n                })\r\n                this.TownData.forEach((ti,tv)=>{\r\n                    if(ti.id==new_obj.town){\r\n                        new_obj.town=ti.town\r\n                    }\r\n                })           \r\n                this.VillageData.forEach((vi,vv)=>{\r\n                    if(vi.id==new_obj.village){\r\n                        new_obj.village=vi.village\r\n                    }\r\n                })\r\n                //修改用户\r\n                this.OwnerData.forEach((oi,ov)=>{\r\n                    if(oi.id==new_obj.ownerId){\r\n                        new_obj.ownerId=oi.name\r\n                    }\r\n                })\r\n                //水产品\r\n                this.ProductData.forEach((pi,pv)=>{\r\n                    if(pi.id==new_obj.productId){\r\n                        new_obj.productId=pi.name\r\n                    }\r\n                })\r\n\r\n                if(item.op_obj=='池塘信息'){\r\n                    this.newpondTableData=new_obj\r\n                }else if(item.op_obj=='拥有者信息'){\r\n                    this.newownerTableData=new_obj\r\n                }else if(item.op_obj=='水产品信息'){\r\n                    this.newProductTableData=new_obj\r\n                }\r\n            }\r\n            if(item.old_obj){\r\n                let old_obj=JSON.parse(decodeURIComponent(item.old_obj))\r\n                //城镇信息\r\n                this.CountyData.forEach((ci,cv)=>{\r\n                    if(ci.id==old_obj.county){\r\n                        old_obj.county=ci.county\r\n                    }\r\n                })\r\n                this.TownData.forEach((ti,tv)=>{\r\n                    if(ti.id==old_obj.town){\r\n                        old_obj.town=ti.town\r\n                    }\r\n                })           \r\n                this.VillageData.forEach((vi,vv)=>{\r\n                    if(vi.id==old_obj.village){\r\n                        old_obj.village=vi.village\r\n                    }\r\n                })\r\n                //修改用户\r\n                this.OwnerData.forEach((oi,ov)=>{\r\n                    if(oi.id==old_obj.ownerId){\r\n                        old_obj.ownerId=oi.name\r\n                    }\r\n                })\r\n                //水产品\r\n                this.ProductData.forEach((pi,pv)=>{\r\n                    if(pi.id==old_obj.productId){\r\n                        old_obj.productId=pi.name\r\n                    }\r\n                })\r\n\r\n                if(item.op_obj=='池塘信息'){\r\n                    this.oldpondTableData=old_obj\r\n                }else if(item.op_obj=='拥有者信息'){\r\n                    this.oldownerTableData=old_obj\r\n                }else if(item.op_obj=='水产品信息'){\r\n                    this.oldProductTableData=old_obj\r\n                }\r\n            }\r\n            \r\n        },\r\n        pass(){\r\n            let data=this.qs.stringify({\r\n                id:this.CheckingData.id,\r\n                checkStatus:1,\r\n                op_obj:this.CheckingData.op_obj,\r\n                op_obj_id:this.CheckingData.op_obj_id\r\n            })\r\n            //修改\r\n            this.$axios({\r\n                url:'/api/dialog/pass',\r\n                method:'POST',\r\n                data:data\r\n            }).then(res=>{\r\n                console.log(res.data);\r\n                if(res.data.status==200){\r\n                    this.dialogVisible=false\r\n                    this.$message.success('已通过');\r\n                    this.tempTableData.forEach((i,v)=>{\r\n                        if(i.id==this.CheckingData.id){\r\n                            i.checkStatus='已通过'\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        deny(){\r\n            let data=this.qs.stringify({\r\n                id:this.CheckingData.id,\r\n                checkStatus:2,\r\n                op_obj:this.CheckingData.op_obj,\r\n                op_obj_id:this.CheckingData.op_obj_id\r\n            })\r\n            //修改\r\n            this.$axios({\r\n                url:'/api/dialog/deny',\r\n                method:'POST',\r\n                data:data\r\n            }).then(res=>{\r\n                console.log(res.data);\r\n                if(res.data.status==200){\r\n                    this.dialogVisible=false\r\n                    this.$message.success('未通过');\r\n                    this.tempTableData.forEach((i,v)=>{\r\n                        if(i.id==this.CheckingData.id){\r\n                            i.checkStatus='未通过'\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }\r\n\r\n    },\r\n    created(){\r\n        this.getUser()\r\n    },\r\n    computed:{\r\n        Search(){\r\n            return this.$store.state.dialog.search\r\n        },\r\n        Form(){\r\n            return this.$store.state.dialog.form\r\n        },\r\n        TableData(){\r\n            return this.$store.state.dialog.tableData\r\n        },\r\n        CurrentPage(){\r\n            return this.$store.state.dialog.currentPage\r\n        },        \r\n        Pagesize(){\r\n            return this.$store.state.dialog.pageSize\r\n        },\r\n        UserData(){\r\n            return this.$store.state.dialog.userData\r\n        },\r\n        ProductData(){\r\n            return this.$store.state.dialog.productData\r\n        },\r\n        OwnerData(){\r\n            return this.$store.state.dialog.ownerData\r\n        },\r\n        CountyData(){\r\n            return this.$store.state.dialog.countyData\r\n        },\r\n        TownData(){\r\n            return this.$store.state.dialog.townData\r\n        },\r\n        VillageData(){\r\n            return this.$store.state.dialog.villageData\r\n        },\r\n        CheckingData(){\r\n            return this.$store.state.dialog.checkingData\r\n        }\r\n    },\r\n    watch:{\r\n        Search(n){\r\n            if(!n){\r\n                this.getDialog()\r\n            }\r\n        },\r\n        Form:{\r\n            handler(n){\r\n                if(n){\r\n                    this.search()\r\n                }\r\n            },\r\n            deep:true,\r\n        }\r\n    }\r\n}   \r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .main{\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n\r\n    .demo-table-expand {\r\n        font-size: 0;\r\n    }\r\n    ::v-deep .demo-table-expand label {\r\n        width: 100px;\r\n        color: #e98000;\r\n    }\r\n    .demo-table-expand .el-form-item {\r\n        margin-right: 0;\r\n        margin-bottom: 0;\r\n        width: 100%;\r\n    }\r\n    table {\r\n        border-collapse: collapse;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}