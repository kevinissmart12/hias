{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  namespaced: true,\n  state: {\n    //获取的所有池塘\n    polygons: [],\n    //owner list，渲染的是选择的表\n    owners: [],\n    //product\n    products: [],\n    //form表里的所有属性，对接前端,\n    //当form表变化，就要把变化的新值添加到polygons中\n    //以后点击这个新的多边形，就根据这个新值显示\n    number: '',\n    //owner\n    ownerId: '',\n    owner: '',\n    //product\n    productId: '',\n    product: '',\n    //经纬度\n    lng: '',\n    lat: '',\n    //面积\n    estimateArea: '',\n    area: '',\n    //town\n    town: '',\n    village: '',\n    polygon: '',\n    comment: '',\n    //以下两个属性是被动的，不是前端设置的\n    checkStatus: 0,\n    id: '',\n    //添加池塘和停止绘制\n    addPond: false,\n    //编辑池塘和停止编辑\n    editPond: false,\n    //当前选中的池塘id\n    chosenId: ''\n  },\n  mutations: {\n    //对获取的池塘数据进行处理\n    setPolygons(state, data) {\n      if (state.polygons.length == 0) {\n        data.forEach((i, v) => {\n          let object = {\n            position: {\n              lat: '',\n              lng: ''\n            },\n            polygon: [],\n            owner: {},\n            product: {},\n            area: '',\n            estimateArea: '',\n            town: '',\n            village: '',\n            comment: '',\n            number: '',\n            editing: false,\n            id: i.id\n          };\n          object.position.lat = i.lat;\n          object.position.lng = i.lng;\n          //对i.polygon做变化\n          let tempP = i.polygon.split(';');\n          tempP.forEach(subi => {\n            let lat = subi.split(',')[1];\n            let lng = subi.split(',')[0];\n            let temp_obj = {\n              lat: lat,\n              lng: lng\n            };\n            object.polygon.push(temp_obj);\n          });\n          //对池塘的owner做处理\n          object.owner = i.owner;\n\n          //对池塘的养殖品种做处理\n          object.product = i.product;\n          object.area = i.area;\n          object.estimateArea = i.estimateArea;\n          object.town = i.town;\n          object.village = i.village;\n          object.comment = i.comment;\n          object.number = i.number;\n          state.polygons.push(object);\n        });\n      }\n    },\n    //以下两个方法用于设置所有owners和products\n    setOwners(state, data) {\n      state.owners = data;\n    },\n    setProducts(state, data) {\n      state.products = data;\n    },\n    // //form表\n    // setForm(state,data){\n    //     //更新form\n    //     state.form=data\n    //     state.form.lat=data.position.lat||''\n    //     state.form.lng=data.position.lng||''\n\n    //     //添加到polygons中\n    //     //将data和上面对象对接\n    //     let object={\n    //         position:{\n    //             lat:data.lat,\n    //             lng:data.lng,\n    //         },\n    //         lat:data.lat,\n    //         lng:data.lng,\n    //         polygon:data.polygon,\n    //         owner:data.owner,\n    //         ownerId:data.ownerId,\n    //         product:data.product,\n    //         productId:data.productId,\n    //         area:data.area,\n    //         estimateArea:data.estimateArea,\n    //         town:data.town,\n    //         village:data.village,\n    //         comment:data.comment,\n    //         number:data.number,\n\n    //         editing:false,\n    //     }\n\n    //     if(state.chosenId){\n    //         //如果选中的池塘存在id，\n    //         state.form=object\n    //     }else{\n    //         object.id=65535\n    //         if(state.polygons[state.polygons.length-1].id!=object.id){\n    //             //push\n    //             state.polygons.push(object)\n    //         }else{\n    //             //修改\n    //             state.polygons[state.polygons.length-1]=object\n    //         }\n    //     }\n\n    // },\n    // //form重置\n    // clearForm(state){\n    //     state.form={\n    //         number:'',\n    //         //owner\n    //         ownerId:'',\n    //         owner:'',\n    //         //product\n    //         productId:'',\n    //         product:'',\n    //         //经纬度\n    //         lng:'',\n    //         lat:'',\n    //         //面积\n    //         estimateArea:'',\n    //         area:'',\n    //         //town\n    //         town:'',\n    //         village:'',\n    //         polygon:'',\n    //         comment:'',\n    //         checkStatus:0,\n    //         id:''\n    //     }\n    // },\n\n    //number\n\n    //添加池塘和停止绘制\n    setAddPond(state, data) {\n      state.addPond = data;\n    },\n    //编辑池塘和停止编辑\n    setEditPond(state, data) {\n      state.editPond = data;\n    },\n    //以下两个函数，是用来设置当前选中的多边形是否可以编辑\n    //设置为可以编辑\n    setEditing(state, data) {\n      console.log(data);\n      state.polygons.forEach((i, v) => {\n        if (data.id == i.id) {\n          i.editing = data.editing;\n        }\n      });\n    },\n    //全部设置为不可编辑\n    setEditingFalse(state) {\n      state.polygons.forEach((i, v) => {\n        i.editing = false;\n      });\n    },\n    //chosenId\n    setChosenId(state, data) {\n      state.chosenId = data;\n    },\n    editPolygon(state, data) {\n      state.polygons.forEach((i, v) => {\n        if (i.id == data.id) {\n          i.position.lng = data.lng;\n          i.position.lat = data.lat;\n          i.estimateArea = data.estimateArea;\n          i.polygon = data.paths;\n          //更新form\n        }\n      });\n    },\n\n    setDrawingPolygon(state, data) {\n      console.log(data);\n      let str = '';\n      data.forEach((i, v) => {\n        str = str.concat(i.lng, ',', i.lat, ';');\n      });\n      str = str.slice(0, str.length - 1);\n      state.drawingPolygon = str;\n    }\n  }\n};","map":{"version":3,"names":["namespaced","state","polygons","owners","products","number","ownerId","owner","productId","product","lng","lat","estimateArea","area","town","village","polygon","comment","checkStatus","id","addPond","editPond","chosenId","mutations","setPolygons","data","length","forEach","i","v","object","position","editing","tempP","split","subi","temp_obj","push","setOwners","setProducts","setAddPond","setEditPond","setEditing","console","log","setEditingFalse","setChosenId","editPolygon","paths","setDrawingPolygon","str","concat","slice","drawingPolygon"],"sources":["C:/Users/29903/Desktop/毕业设计的各种准备/haidaoxiangmu/hias/src/store/Ponds/index.js"],"sourcesContent":["export default {\r\n    namespaced:true,\r\n    state:{\r\n        //获取的所有池塘\r\n        polygons:[],\r\n        //owner list，渲染的是选择的表\r\n        owners:[],\r\n        //product\r\n        products:[],        \r\n\r\n        //form表里的所有属性，对接前端,\r\n        //当form表变化，就要把变化的新值添加到polygons中\r\n        //以后点击这个新的多边形，就根据这个新值显示\r\n        number:'',\r\n        //owner\r\n        ownerId:'',\r\n        owner:'',\r\n        //product\r\n        productId:'',\r\n        product:'',\r\n        //经纬度\r\n        lng:'',\r\n        lat:'',\r\n        //面积\r\n        estimateArea:'',\r\n        area:'',\r\n        //town\r\n        town:'',\r\n        village:'',\r\n        polygon:'',\r\n        comment:'',\r\n        //以下两个属性是被动的，不是前端设置的\r\n        checkStatus:0,\r\n        id:'',\r\n        \r\n\r\n        //添加池塘和停止绘制\r\n        addPond:false,\r\n        //编辑池塘和停止编辑\r\n        editPond:false,\r\n        //当前选中的池塘id\r\n        chosenId:'',\r\n\r\n\r\n\r\n    },\r\n    mutations:{\r\n        //对获取的池塘数据进行处理\r\n        setPolygons(state,data){\r\n            if(state.polygons.length==0){\r\n                data.forEach((i,v)=>{\r\n                    let object={\r\n                        position:{\r\n                            lat:'',\r\n                            lng:'',\r\n                        },\r\n                        polygon:[],\r\n                        owner:{},\r\n                        product:{},\r\n                        area:'',\r\n                        estimateArea:'',\r\n                        town:'',\r\n                        village:'',\r\n                        comment:'',\r\n                        number:'',\r\n                        editing:false,\r\n                        id:i.id,\r\n                    }\r\n                    object.position.lat=i.lat\r\n                    object.position.lng=i.lng\r\n                    //对i.polygon做变化\r\n                    let tempP=i.polygon.split(';')\r\n                    tempP.forEach(subi=>{\r\n                        let lat=subi.split(',')[1]\r\n                        let lng=subi.split(',')[0]\r\n                        let temp_obj={\r\n                            lat:lat,\r\n                            lng:lng\r\n                        }\r\n                        object.polygon.push(temp_obj)\r\n                    })\r\n                    //对池塘的owner做处理\r\n                    object.owner=i.owner\r\n\r\n                    //对池塘的养殖品种做处理\r\n                    object.product=i.product\r\n\r\n                    object.area=i.area\r\n                    object.estimateArea=i.estimateArea\r\n                    object.town=i.town\r\n                    object.village=i.village\r\n                    object.comment=i.comment\r\n                    object.number=i.number\r\n                    state.polygons.push(object)\r\n                })\r\n            }\r\n\r\n        },\r\n        //以下两个方法用于设置所有owners和products\r\n        setOwners(state,data){\r\n            state.owners=data\r\n        },\r\n        setProducts(state,data){\r\n            state.products=data\r\n        },\r\n        // //form表\r\n        // setForm(state,data){\r\n        //     //更新form\r\n        //     state.form=data\r\n        //     state.form.lat=data.position.lat||''\r\n        //     state.form.lng=data.position.lng||''\r\n\r\n        //     //添加到polygons中\r\n        //     //将data和上面对象对接\r\n        //     let object={\r\n        //         position:{\r\n        //             lat:data.lat,\r\n        //             lng:data.lng,\r\n        //         },\r\n        //         lat:data.lat,\r\n        //         lng:data.lng,\r\n        //         polygon:data.polygon,\r\n        //         owner:data.owner,\r\n        //         ownerId:data.ownerId,\r\n        //         product:data.product,\r\n        //         productId:data.productId,\r\n        //         area:data.area,\r\n        //         estimateArea:data.estimateArea,\r\n        //         town:data.town,\r\n        //         village:data.village,\r\n        //         comment:data.comment,\r\n        //         number:data.number,\r\n                \r\n        //         editing:false,\r\n        //     }\r\n\r\n        //     if(state.chosenId){\r\n        //         //如果选中的池塘存在id，\r\n        //         state.form=object\r\n        //     }else{\r\n        //         object.id=65535\r\n        //         if(state.polygons[state.polygons.length-1].id!=object.id){\r\n        //             //push\r\n        //             state.polygons.push(object)\r\n        //         }else{\r\n        //             //修改\r\n        //             state.polygons[state.polygons.length-1]=object\r\n        //         }\r\n        //     }\r\n\r\n\r\n            \r\n        // },\r\n        // //form重置\r\n        // clearForm(state){\r\n        //     state.form={\r\n        //         number:'',\r\n        //         //owner\r\n        //         ownerId:'',\r\n        //         owner:'',\r\n        //         //product\r\n        //         productId:'',\r\n        //         product:'',\r\n        //         //经纬度\r\n        //         lng:'',\r\n        //         lat:'',\r\n        //         //面积\r\n        //         estimateArea:'',\r\n        //         area:'',\r\n        //         //town\r\n        //         town:'',\r\n        //         village:'',\r\n        //         polygon:'',\r\n        //         comment:'',\r\n        //         checkStatus:0,\r\n        //         id:''\r\n        //     }\r\n        // },\r\n\r\n        //number\r\n        \r\n\r\n\r\n\r\n\r\n        //添加池塘和停止绘制\r\n        setAddPond(state,data){\r\n            state.addPond=data\r\n        },\r\n        //编辑池塘和停止编辑\r\n        setEditPond(state,data){\r\n            state.editPond=data\r\n        },\r\n        //以下两个函数，是用来设置当前选中的多边形是否可以编辑\r\n        //设置为可以编辑\r\n        setEditing(state,data){\r\n            console.log(data);\r\n            state.polygons.forEach((i,v)=>{\r\n                if(data.id==i.id){\r\n                    i.editing=data.editing\r\n                }\r\n            })\r\n        },\r\n        //全部设置为不可编辑\r\n        setEditingFalse(state){\r\n            state.polygons.forEach((i,v)=>{\r\n                i.editing=false\r\n            })\r\n        },\r\n\r\n        //chosenId\r\n        setChosenId(state,data){\r\n            state.chosenId=data\r\n        },\r\n\r\n\r\n        editPolygon(state,data){\r\n            state.polygons.forEach((i,v)=>{\r\n                if(i.id==data.id){\r\n                    i.position.lng=data.lng\r\n                    i.position.lat=data.lat\r\n                    i.estimateArea=data.estimateArea\r\n                    i.polygon=data.paths\r\n                    //更新form\r\n\r\n                }\r\n            })\r\n        },\r\n\r\n\r\n        setDrawingPolygon(state,data){\r\n            console.log(data);\r\n            let str=''\r\n            data.forEach((i,v)=>{\r\n                str=str.concat(i.lng,',',i.lat,';')\r\n            })\r\n            str=str.slice(0, str.length - 1)\r\n            \r\n            state.drawingPolygon=str\r\n        }\r\n\r\n    }\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}